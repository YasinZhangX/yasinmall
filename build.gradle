/*
 * This file was generated by the Gradle 'init' task.
 */
buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:2.0.5.RELEASE")
        classpath "gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4"
    }
}

plugins {
    id 'java'
    id 'war'
    id 'idea'
}

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url = 'http://repo.maven.apache.org/maven2'
    }
}

apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'
apply plugin: "com.arenagod.gradle.MybatisGenerator"

dependencies {
    compile("org.springframework.boot:spring-boot-starter-web")        // springMVC
    compile("org.springframework.boot:spring-boot-starter-actuator")   // production-grade service
    testCompile("org.springframework.boot:spring-boot-starter-test")   // Spring unit tests, enable mockmvc
    compile("org.springframework.boot:spring-boot-starter-thymeleaf")  // thymeleaf Spring starter
    compile("org.springframework.boot:spring-boot-devtools")
    testCompile("junit:junit")
    compile group: 'org.mybatis.spring.boot', name: 'mybatis-spring-boot-starter', version: '2.0.1'
    compile group: 'com.github.pagehelper', name: 'pagehelper-spring-boot-starter', version: '1.2.10'
    compile 'org.aspectj:aspectjweaver:1.7.3'
    compile 'org.aspectj:aspectjrt:1.6.11'
    compile 'commons-dbcp:commons-dbcp:1.4'
    compile 'mysql:mysql-connector-java:5.1.6'
    compile 'com.google.guava:guava:20.0'
    compile 'org.apache.commons:commons-lang3:3.5'
    compile 'commons-collections:commons-collections:3.2.1'
    compile 'joda-time:joda-time:2.3'
    compile 'org.hashids:hashids:1.0.1'
    compile 'commons-net:commons-net:3.1'
    compile 'commons-fileupload:commons-fileupload:1.2.2'
    compile 'commons-io:commons-io:2.0.1'
    compile 'com.github.miemiedev:mybatis-paginator:1.2.17'
    compile 'com.github.jsqlparser:jsqlparser:0.9.4'
    compile 'commons-codec:commons-codec:1.10'
    compile 'commons-configuration:commons-configuration:1.10'
    compile 'commons-lang:commons-lang:2.6'
    compile 'com.google.zxing:core:2.1'
    compile 'com.google.code.gson:gson:2.8.2'
    compile 'org.hamcrest:hamcrest-core:1.3'
    compile group: 'org.jetbrains', name: 'annotations', version: '17.0.0'
    compile files('lib/alipay-sdk-java-3.3.0.jar')
    compile files('lib/alipay-trade-sdk-20161215.jar')
    
    // 二期新增部分
    annotationProcessor 'org.projectlombok:lombok:1.18.2'
    compileOnly 'org.projectlombok:lombok:1.18.2'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.2'
    testCompileOnly 'org.projectlombok:lombok:1.18.2'
    compile group: 'redis.clients', name: 'jedis', version: '2.9.0'
}

group = 'com'
version = '2.0-SNAPSHOT'
description = 'yasinmall Webapp'
sourceCompatibility = '1.8'
targetCompatibility = '1.8'

def env = System.getProperty("profile") ?: "home"

sourceSets {
    main {
        java {
            srcDirs = ['src/main/java']
        }
        resources {
            srcDirs = ["src/main/resources", "src/main/resources/$env"]
        }
    }
    test{
        java {
            srcDirs = ['src/test/java']
        }
    }
}


// set character
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}
tasks.withType(Javadoc) {
    options.encoding = "UTF-8"
}

// mybatis generator task
configurations {
    mybatisGenerator
}

mybatisGenerator {
    verbose = true
    configFile = 'src/main/resources/generator.xml'
}
